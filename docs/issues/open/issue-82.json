{
  "id": 3318324894,
  "number": 82,
  "state": "open",
  "title": "Fase 2 — E2E Caminho Feliz com Snapshots ICS",
  "milestone": null,
  "epic": 78,
  "url": "https://github.com/dmirrha/motorsport-calendar/issues/82",
  "created_at": "2025-08-13T12:44:05Z",
  "updated_at": "2025-08-13T21:18:42-03:00",
  "tasks": [
    {"item": "Teste E2E: coleta (mock) → processamento → geração de .ics", "done": true},
    {"item": "Função de normalização de ICS (remover/estabilizar campos voláteis)", "done": true},
    {"item": "Snapshot test: comparar saída atual com tests/snapshots/phase2/*.ics", "done": true},
    {"item": "Registrar tempo de execução em log de teste", "done": true}
  ],
  "acceptance": [
    "3× local sem flakes (<30s)",
    "Snapshots estáveis e revisados",
    "Cobertura do caminho feliz reportada no CI"
  ],
  "results": {
    "command": "pytest -q -c /dev/null tests/integration/test_phase2_e2e_happy.py -k happy",
    "runs": [
      {"n": 1, "status": "passed", "time_s": 1.95},
      {"n": 2, "status": "passed", "time_s": 2.02},
      {"n": 3, "status": "passed", "time_s": 2.00}
    ],
    "avg_time_s": 1.99,
    "stable": true,
    "notes": [
      "Marker integration desconhecido apenas porque -c /dev/null ignora pytest.ini; no fluxo normal o marker está registrado.",
      "Aviso de cache do Pytest não impacta o resultado."
    ]
  }
}
