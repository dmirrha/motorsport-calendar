{"assignees":[],"author":{"id":"U_kgDODVxz5Q","is_bot":false,"login":"dmirrha","name":"Daniel Mirrha Santos"},"body":"# P0: Resolver xfails pendentes — ordenação ICS e deduplicação TomadaTempo\n\n## Contexto\nA auditoria de testes identificou xfails pendentes que precisam ser endereçados:\n- Ordenação determinística de eventos ICS.\n- Ajustes na deduplicação da fonte `TomadaTempo`.\n\nRelatório completo: `docs/tests/audit/TEST_AUDIT_2025-08-19.md`.\nEntradas de documentação: `CHANGELOG.md` ([Unreleased]) e `RELEASES.md` (Não Lançado).\n\n## Objetivo\nRemover os `xfail` existentes ao corrigir:\n1) Ordenação determinística de eventos gerados/normalizados a partir de ICS.\n2) Heurística de deduplicação em `TomadaTempo` para evitar falsos positivos/negativos.\n\n## Escopo\n- Ajustar lógica de ordenação de eventos ICS garantindo estabilidade e comparabilidade.\n- Revisar e corrigir a deduplicação em `TomadaTempo`.\n- Converter testes `xfail` em testes de sucesso.\n- Garantir que a suíte permaneça verde e estável em CI.\n\n## Critérios de Aceite\n- Não há `xfail` remanescente nos casos identificados.\n- Testes de integração relacionados passam de forma determinística (3x runs).\n- Cobertura não diminui e não há regressão em entidades/duplicatas.\n- Documentação atualizada (CHANGELOG/RELEASES/docs/tests/overview.md).\n\n## Tarefas\n- [ ] Mapear testes `xfail` de ICS e TomadaTempo.\n- [ ] Implementar ordenação determinística p/ eventos ICS.\n- [ ] Corrigir heurística de deduplicação em `TomadaTempo`.\n- [ ] Atualizar/reativar asserts dos testes removendo `xfail`.\n- [ ] Rodar suíte 3x em CI para validar estabilidade.\n- [ ] Atualizar documentação relacionada.\n\n## Riscos e Mitigações\n- Risco de regressão em parsing ICS ou heurísticas de dedup: adicionar testes adicionais e rodadas repetidas.\n- Performance: validar impacto em tempo/complexidade.\n\n## Referências\n- `tests/integration/` (TomadaTempo): `test_it2_tomada_tempo_*`\n- `docs/tests/audit/TEST_AUDIT_2025-08-19.md`\n","createdAt":"2025-08-20T08:13:40Z","labels":[{"id":"LA_kwDOPWyu9M8AAAACGvJbfg","name":"enhancement","description":"New feature or request","color":"a2eeef"},{"id":"LA_kwDOPWyu9M8AAAACIMvUFQ","name":"testing","description":"","color":"ededed"},{"id":"LA_kwDOPWyu9M8AAAACIMvUFg","name":"needs-triage","description":"","color":"ededed"},{"id":"LA_kwDOPWyu9M8AAAACIMvUGA","name":"priority: P0","description":"","color":"ededed"}],"number":129,"title":"P0: Resolver xfails pendentes — ordenação ICS e deduplicação TomadaTempo","updatedAt":"2025-08-20T08:13:40Z","url":"https://github.com/dmirrha/motorsport-calendar/issues/129"}
