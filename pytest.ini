[pytest]
testpaths = tests
addopts = --cov=src --cov=sources --cov-report=term-missing:skip-covered --cov-report=xml:coverage.xml --cov-report=html --junitxml=test_results/junit.xml --cov-fail-under=45
markers =
  unit: Testes unitários rápidos e determinísticos
  integration: Testes de integração do fluxo

# Determinismo e estabilidade
# pytest-timeout: tempo máximo por teste (em segundos)
 timeout = 30
 # Método de interrupção: 'thread' é seguro para a maioria dos casos
 timeout_method = thread
 
# pytest-randomly: ordem aleatória reprodutível dos testes
# Ajuste a seed conforme necessário; mantemos fixa para CI determinístico
 randomly-seed = 20240501
